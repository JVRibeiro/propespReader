window.addEventListener("load",function(){$(".mdl-layout__drawer-button").removeAttr("tabindex");$.getScript("external/instascan.js",function(){console.info("Instascan loaded and executed.");var c=0;scanner={};var b={initHtmlElement:function(a){return document.getElementById(a)},initVideoObjectOptions:function(a){scanner={};return{video:b.initHtmlElement(a),continuous:!0,mirror:!1,captureImage:!1,backgroundScan:!1,refractoryPeriod:3E3,scanPeriod:1}},initAvaliableCameras:function(a){Instascan.Camera.getCameras().then(function(b){a()})},
initCamera:function(a){scanner.stop();Instascan.Camera.getCameras().then(function(a){if(0<a.length){var b=a[0];$.each(a,function(a,c){if(-1!=c.name.indexOf("back"))return b=c,!1});scanner.start(b)}else alert("No cameras found.")})},scanStart:function(a){scanner.addListener("scan",function(b){a(b)})},initScanner:function(a){scanner=new Instascan.Scanner(a)}},d={},d=b.initVideoObjectOptions("webcameraPreview");b.initScanner(d);b.initAvaliableCameras(function(){c=1});b.initCamera(c);b.scanStart(function(a){alert(a)})})});
