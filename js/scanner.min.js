$(".mdl-layout__drawer-button").removeAttr("tabindex");var cameraId=0;scanner={};
var qrScan={data:[],initHtmlElement:function(a){return document.getElementById(a)},initVideoObjectOptions:function(a){scanner={};return{video:qrScan.initHtmlElement(a),continuous:!0,mirror:!1,captureImage:!1,backgroundScan:!1,refractoryPeriod:3E3,scanPeriod:1}},initAvaliableCameras:function(a){Instascan.Camera.getCameras().then(function(b){a()})},initCamera:function(a){scanner.stop();Instascan.Camera.getCameras().then(function(a){if(0<a.length){var c=a[0];$.each(a,function(a,b){if(-1!=b.name.indexOf("back"))return c=
b,!1});console.log("Camera:");console.log(c);scanner.start(c)}else alert("Nenhuma camera encontrada.")})},scanStart:function(a){scanner.addListener("scan",function(b){a(b)})},initScanner:function(a){scanner=new Instascan.Scanner(a)},saveScannedData:function(a){a=a.replace(/\n/gi,"");qrScan.data.push(JSON.parse(a));a=CryptoJS.AES.encrypt(qrScan.data,"propespti2013");localStorage.setItem("data",a)}},options={},options=qrScan.initVideoObjectOptions("webcameraPreview");qrScan.initScanner(options);
qrScan.initAvaliableCameras(function(){cameraId=1});qrScan.initCamera(cameraId);qrScan.scanStart(function(a){qrScan.saveScannedData(a)});
